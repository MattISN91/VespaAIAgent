<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vespa Tuning Assistant</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f0f0f0;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      color: #2c3e50;
    }
    label, select {
      display: block;
      margin-top: 1rem;
    }
    select, button {
      padding: 0.5rem;
      width: 100%;
    }
    #recommendation {
      margin-top: 2rem;
      padding: 1rem;
      background: #fff;
      border-left: 5px solid #3498db;
    }
  </style>
</head>
<body>
  <h1>Vespa Tuning Assistant</h1>

  <label for="vespaModel">Select your Vespa model:</label>
  <select id="vespaModel">
    <optgroup label="Largeframe">
      <option value="PX">PX 80 / 125 / 150 / 200 (1977–1995)</option>
      <option value="Sprint">Sprint / Sprint Veloce (1965–1979)</option>
      <option value="Rally">Rally 180 / 200 (1968–1979)</option>
      <option value="Super">Super 150 (1965–1979)</option>
      <option value="VBB">VBB 150 (1960–1965)</option>
      <option value="VBC">VBC Super 150 (1965–1979)</option>
      <option value="Cosa">Cosa 125 / 150 / 200 (1988–1995)</option>
    </optgroup>
    <optgroup label="Smallframe">
      <option value="V50">V50 (1963–1983)</option>
      <option value="V90">V90 (1963–1971)</option>
      <option value="SS90">90 SS Super Sprint (1965–1971)</option>
      <option value="Primavera">Primavera 125 (1967–1982)</option>
      <option value="ET3">ET3 Primavera (1976–1983)</option>
      <option value="PK">PK 50 / 80 / 100 / 125 (1983–1995)</option>
    </optgroup>
    <optgroup label="Wideframe">
      <option value="GS150">GS 150 / 160 (1955–1964)</option>
      <option value="VB1">VB1 (1957–1959)</option>
      <option value="VL/VN">VL1–3 / VN1–2 (1955–1960)</option>
    </optgroup>
  </select>

  <label for="vespaUse">What’s your main use?</label>
  <select id="vespaUse">
    <option value="Touring">Touring</option>
    <option value="Sport">Sport / Track</option>
    <option value="City">Daily / Urban</option>
  </select>

  <label for="tuningBudget">Select your budget:</label>
  <select id="tuningBudget">
    <option value="Low">Low</option>
    <option value="Medium">Medium</option>
    <option value="High">High</option>
  </select>

  <button onclick="getRecommendation()">Get Tuning Recommendation</button>

  <div id="recommendation"></div>

  <script>
    const modelGroups = {
      Smallframe: ["V50", "V90", "SS90", "Primavera", "ET3", "PK"],
      Largeframe: ["PX", "Sprint", "Super", "Rally", "Cosa", "VBB", "VBC"],
      Wideframe: ["GS150", "VB1", "VL/VN"]
    };

    function getRecommendation() {
      const model = document.getElementById("vespaModel").value;
      const use = document.getElementById("vespaUse").value;
      const budget = document.getElementById("tuningBudget").value;
      const resultDiv = document.getElementById("recommendation");

      let type = "Unknown";
      for (const [group, models] of Object.entries(modelGroups)) {
        if (models.includes(model)) {
          type = group;
          break;
        }
      }

      let result = "";

      if (type === "Smallframe") {
        if (use === "Touring") {
          result = (budget === "Low") ? "75cc Polini kit, 16.16 carb, 3.00 gear ratio." :
                   (budget === "Medium") ? "102cc DR kit, 19mm carb, Polini Banana exhaust." :
                   "130cc Malossi, 24mm carb, racing clutch, Simonini exhaust.";
        } else if (use === "Sport") {
          result = (budget === "Low") ? "85cc DR kit, 19mm carb, racing coil." :
                   (budget === "Medium") ? "102cc Polini, 4-speed gearbox, expansion exhaust." :
                   "136cc Malossi, 30mm carb, PVL ignition, Franz or VSP exhaust.";
        } else {
          result = "Reliable 75cc kit, electronic ignition, and Sito Plus or original muffler.";
        }
      } else if (type === "Largeframe") {
        if (use === "Touring") {
          result = (budget === "Low") ? "DR 177 kit, Sito Plus exhaust, stock crank." :
                   (budget === "Medium") ? "Polini 177, long stroke crank, 24mm carb." :
                   "Malossi 210 Sport, 30mm carb, MHR crank, BGM BigBox Touring.";
        } else if (use === "Sport") {
          result = (budget === "Low") ? "177 Pinasco kit, expansion pipe, lightened flywheel." :
                   (budget === "Medium") ? "Polini 208, reed intake, 28mm carb, racing clutch." :
                   "Malossi 221 MHR, 35mm carb, V-Force reeds, JL RH exhaust.";
        } else {
          result = "Reliable setup: DR 177, 23/65 gear, 24mm carb, Sito Plus.";
        }
      } else if (type === "Wideframe") {
        result = "Wideframes are less commonly tuned. Consider period-correct upgrades like GS 160 conversion kits, Dell'Orto 20mm carbs, and reinforced clutches.";
      } else {
        result = "Model not recognized. Try selecting a listed Vespa.";
      }

      resultDiv.innerHTML = `<strong>Recommended tuning:</strong><br>${result}`;
    }
  </script>
</body>
</html>
