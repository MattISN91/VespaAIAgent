<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vespa Tuning Assistant</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
    }

    label, select, button {
      display: block;
      width: 100%;
      margin-top: 1rem;
      padding: 0.5rem;
      font-size: 1rem;
    }

    #recommendation {
      margin-top: 2rem;
      padding: 1rem;
      background-color: #fff;
      border-left: 5px solid #0077cc;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>Vespa Tuning Assistant</h1>

  <label for="vespaModel">Select your Vespa model:</label>
  <select id="vespaModel">
    <optgroup label="Largeframe">
      <option value="PX">PX</option>
      <option value="Sprint">Sprint</option>
      <option value="Rally">Rally</option>
      <option value="Super">Super</option>
      <option value="VBB">VBB</option>
      <option value="VBC">VBC</option>
      <option value="Cosa">Cosa</option>
    </optgroup>
    <optgroup label="Smallframe">
      <option value="V50">V50</option>
      <option value="V90">V90</option>
      <option value="SS90">SS90</option>
      <option value="Primavera">Primavera</option>
      <option value="ET3">ET3</option>
      <option value="PK">PK</option>
    </optgroup>
    <optgroup label="Wideframe">
      <option value="GS150">GS150</option>
      <option value="VB1">VB1</option>
      <option value="VL/VN">VL/VN</option>
    </optgroup>
  </select>

  <label for="vespaUse">Whatâ€™s your main use?</label>
  <select id="vespaUse">
    <option value="Touring">Touring</option>
    <option value="Sport">Sport / Track</option>
    <option value="City">Daily / Urban</option>
  </select>

  <label for="tuningBudget">Select your budget:</label>
  <select id="tuningBudget">
    <option value="Low">Low</option>
    <option value="Medium">Medium</option>
    <option value="High">High</option>
  </select>

  <button id="getTuneBtn">Get Tuning Recommendation</button>

  <div id="recommendation"></div>

  <script>
    const modelGroups = {
      Smallframe: ["V50", "V90", "SS90", "Primavera", "ET3", "PK"],
      Largeframe: ["PX", "Sprint", "Super", "Rally", "Cosa", "VBB", "VBC"],
      Wideframe: ["GS150", "VB1", "VL/VN"]
    };

    document.getElementById('getTuneBtn').addEventListener('click', () => {
      const model = document.getElementById("vespaModel").value;
      const use = document.getElementById("vespaUse").value;
      const budget = document.getElementById("tuningBudget").value;
      const resultDiv = document.getElementById("recommendation");

      let type = "Unknown";
      for (const [group, models] of Object.entries(modelGroups)) {
        if (models.includes(model)) {
          type = group;
          break;
        }
      }

      let result = "";

      if (type === "Smallframe") {
        if (use === "Touring") {
          result = (budget === "Low") ? "Polini 75cc, 16.16 carb, 3.00 gear." :
                   (budget === "Medium") ? "DR 102cc, 19 carb, banana exhaust." :
                   "Malossi 130cc, 24 carb, racing clutch, Simonini pipe.";
        } else if (use === "Sport") {
          result = (budget === "Low") ? "DR 85cc, 19mm carb, sport pipe." :
                   (budget === "Medium") ? "Polini 102cc, 4-speed, race exhaust." :
                   "Malossi 136cc, 30mm carb, PVL ignition, VSP pipe.";
        } else {
          result = "Reliable 75cc kit, 16.16 carb, Sito+ exhaust.";
        }
      } else if (type === "Largeframe") {
        if (use === "Touring") {
          result = (budget === "Low") ? "DR 177 kit, Sito+ exhaust." :
                   (budget === "Medium") ? "Polini 177, 24 carb, long stroke crank." :
                   "Malossi 210 Sport, 30 carb, BGM Touring pipe.";
        } else if (use === "Sport") {
          result = (budget === "Low") ? "Pinasco 177, sport exhaust, light flywheel." :
                   (budget === "Medium") ? "Polini 208, 28 carb, race clutch." :
                   "Malossi 221 MHR, 35 carb, JL RH pipe.";
        } else {
          result = "DR 177, 23/65 gears, Sito+ muffler, electronic ignition.";
        }
      } else if (type === "Wideframe") {
        result = "Wideframes: try GS 160 kit, 20mm carb, reinforced clutch.";
      } else {
        result = "Model not recognized.";
      }

      resultDiv.innerHTML = `<strong>Recommended tuning:</strong><br>${result}`;
    });
  </script>
</body>
</html>
